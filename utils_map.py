def normalizar_texto(texto):
    """Normaliza texto para comparación"""
    if texto is None:
        return ""
    return str(texto).lower().strip()

def nombre_a_numero(nombre):
    """Convierte nombre de animal a número - Guácharo Activo (76 animales oficiales)"""
    mapa = {
        # 0-9
        "delfin": 0, "delfín": 0,
        "carnero": 1,
        "toro": 2,
        "ciempies": 3, "ciempiés": 3,
        "alacrán": 4, "alacran": 4,
        "león": 5, "leon": 5,
        "rana": 6,
        "perico": 7,
        "ratón": 8, "raton": 8,
        "águila": 9, "aguila": 9,
        # 10-19
        "tigre": 10,
        "gato": 11,
        "caballo": 12,
        "mono": 13,
        "paloma": 14,
        "zorro": 15,
        "oso": 16,
        "pavo": 17,
        "burro": 18,
        "chivo": 19,
        # 20-29
        "cochino": 20,
        "gallo": 21,
        "camello": 22,
        "cebra": 23,
        "iguana": 24,
        "gallina": 25,
        "vaca": 26,
        "perro": 27,
        "zamuro": 28,
        "elefante": 29,
        # 30-39
        "caimán": 30, "caiman": 30,
        "lapa": 31,
        "ardilla": 32,
        "pescado": 33,
        "venado": 34,
        "jirafa": 35,
        "culebra": 36,
        "tortuga": 37,
        "lechuza": 38,
        "chigüire": 39, "chiguire": 39,
        # 40-49
        "avestruz": 40,
        "canguro": 41,
        "morrocoy": 42,
        "jorobado": 43,
        "garza": 44,
        "ballena": 45,
        "puma": 46,
        "pavo real": 47,
        "hormiga": 48,
        "oso hormiguero": 49,
        # 50-59
        "pereza": 50,
        "canario": 51,
        "cotorra": 52,
        "pulpo": 53,
        "caracol": 54,
        "grillo": 55,
        "mapache": 56,
        "tiburón": 57, "tiburon": 57,
        "pato": 58,
        "murciélago": 59, "murcielago": 59,
        # 60-69
        "nutria": 60,
        "camaleón": 61, "camaleon": 61,
        "rinoceronte": 62,
        "cachicamo": 63,
        "gavilán": 64, "gavilan": 64,
        "araña": 65, "arana": 65,
        "sapo": 66,
        "comadreja": 67,
        "conejo": 68,
        "serpiente": 69,
        # 30-39
        "caimán": 30, "caiman": 30,
        "lapa": 31,
        "ardilla": 32,
        "pescado": 33,
        "venado": 34,
        "jirafa": 35,
        "culebra": 36,
        "tortuga": 37,
        "búfalo": 38, "bufalo": 38,
        "lechuza": 39,
        # 40-49
        "avispa": 40,
        "canguro": 41,
        "tucán": 42, "tucan": 42,
        "mariposa": 43,
        "chigüire": 44, "chiguire": 44,
        "garza": 45,
        "puma": 46,
        "pavo real": 47,
        "puercoespín": 48, "puercoespin": 48,
        "pereza": 49,
        # 50-59
        "canario": 50,
        "pelícano": 51, "pelicano": 51,
        "pulpo": 52,
        "caracol": 53,
        "grillo": 54,
        "oso hormiguero": 55,
        "tiburón": 56, "tiburon": 56,
        "pato": 57,
        "hormiga": 58,
        "pantera": 59,
        # 60-69
        "camaleón": 60, "camaleon": 60,
        "panda": 61,
        "cachicamo": 62,
        "cangrejo": 63,
        "gavilán": 64, "gavilan": 64,
        "araña": 65, "arana": 65,
        "lobo": 66,
        "avestruz": 67,
        "jaguar": 68,
        "conejo": 69,
        # 70-75
        "bisonte": 70,
        "guacamaya": 71,
        "gorila": 72,
        "hipopótamo": 73, "hipopotamo": 73,
        "turpial": 74,
        "guácharo": 75, "guacharo": 75,
        # Especial
        "ballena": 100,
        "00": 100
    }
    if nombre is None:
        return None
    texto_norm = normalizar_texto(nombre)
    return mapa.get(texto_norm)

def numero_a_nombre(numero):
    """Convierte número a nombre de animal - Guácharo Activo (76 animales oficiales)"""
    mapa = {
        0: "Delfín",
        1: "Carnero",
        2: "Toro",
        3: "Ciempiés",
        4: "Alacrán",
        5: "León",
        6: "Rana",
        7: "Perico",
        8: "Ratón",
        9: "Águila",
        10: "Tigre",
        11: "Gato",
        12: "Caballo",
        13: "Mono",
        14: "Paloma",
        15: "Zorro",
        16: "Oso",
        17: "Pavo",
        18: "Burro",
        19: "Chivo",
        20: "Cochino",
        21: "Gallo",
        22: "Camello",
        23: "Cebra",
        24: "Iguana",
        25: "Gallina",
        26: "Vaca",
        27: "Perro",
        28: "Zamuro",
        29: "Elefante",
        30: "Caimán",
        31: "Lapa",
        32: "Ardilla",
        33: "Pescado",
        34: "Venado",
        35: "Jirafa",
        36: "Culebra",
        37: "Tortuga",
        38: "Lechuza",
        39: "Chigüire",
        40: "Gorila",  # Actualizado desde scraping
        41: "Canguro",
        42: "Puercoespín",  # Actualizado desde scraping
        43: "Jorobado",
        44: "Garza",
        45: "Ballena",
        46: "Puma",
        47: "Pavo Real",
        48: "Hormiga",
        49: "Oso Hormiguero",
        50: "Pereza",
        51: "Canario",
        52: "Cotorra",
        53: "Pulpo",
        54: "Caracol",
        55: "Grillo",
        56: "Mapache",
        57: "Tiburón",
        58: "Pato",
        59: "Murciélago",
        60: "Nutria",
        61: "Camaleón",
        62: "Rinoceronte",
        63: "Cachicamo",
        64: "Gavilán",
        65: "Araña",
        66: "Sapo",
        67: "Comadreja",
        68: "Conejo",
        69: "Serpiente",
        37: "Tortuga",
        38: "Búfalo",
        39: "Lechuza",
        40: "Avispa",
        41: "Canguro",
        42: "Tucán",
        43: "Mariposa",
        44: "Chigüire",
        45: "Garza",
        46: "Puma",
        47: "Pavo Real",
        48: "Puercoespín",
        49: "Pereza",
        50: "Canario",
        51: "Pelícano",
        52: "Pulpo",
        53: "Caracol",
        54: "Grillo",
        55: "Oso Hormiguero",
        56: "Tiburón",
        57: "Pato",
        58: "Hormiga",
        59: "Pantera",
        60: "Camaleón",
        61: "Panda",
        62: "Cachicamo",
        63: "Cangrejo",
        64: "Gavilán",
        65: "Araña",
        66: "Lobo",
        67: "Avestruz",
        68: "Jaguar",
        69: "Conejo",
        70: "Bisonte",
        71: "Guacamaya",
        72: "Gorila",
        73: "Hipopótamo",
        74: "Turpial",
        75: "Guácharo",
        100: "Ballena"
    }
    return mapa.get(numero, f"Animal-{numero}")
